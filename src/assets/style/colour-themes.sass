// Colour themes

@mixin contact-icons($fg, $bg, $pri)
  & .contact-icons a
    color: $fg
    transition: 0.3s ease-in
    &:hover, &:focus
      filter: drop-shadow(0 0 3px rgba($pri, 0.5))
      color: $pri

@mixin themeable($foreground, $background, $primary, $secondary)
  $light-shadow: mix($foreground, $background, 25%)
  $light-grey: #a5acb2
  $shadow: mix($foreground, $background, 60%)
  $container-background: rgba($foreground, 10%)
  $content-foreground: mix($foreground, $background, 80%)

  html &,
  body &
    background: $background
    color: $foreground

  a
    color: $primary
  a:hover, a:active
    color: saturate($primary, 50%)

  p
    color: $content-foreground

  #main-nav
    border-bottom: 0.5px solid $primary
    background: $background

  .nav-button
    &:focus, &:hover
      background-color: rgba($primary, 0.3)
      border-bottom: 2px solid $primary


  .section-title
    color: $primary

  .subtitle
    background: $secondary
    color: $foreground

  .welcome-msg p
    color: $foreground

  .skills-chart-subheading
    color: $primary

  .about-me-contents, .skills-chart, .project-card
    background: rgba(#fff, 0.2)
    border: 0.5px solid $shadow

  .skillbar svg
    color: $foreground

  .empty-bar
    background: rgba($light-grey, 0.7)
    // filter: drop-shadow(2px 2px 2px $shadow)

  .filled-bar
    background: $primary
    color: $background

  .project-title
    background: $primary
    color: $background

  .theme-toggle-button
    background: #777777

  .project-techstack label
    color: $primary

  .project-techstack-tags
    @for $i from 1 through 6
      & span:nth-child(6n+#{$i})
        background-color: rgba(saturate(adjust-hue($primary, calc(108deg * ($i - 2))), 0.5), 0.5)

  section#contact
    background: $foreground
    color: $background
    @include contact-icons($fg: $background, $bg: $foreground, $pri: $secondary)
    & .section-title
      color: $secondary

  // carousel css override
  #projects .carousel
    .control-dots .dot
      background: $primary
      box-shadow: none
    .carousel-status
      text-shadow: 1px 1px 1px $light-shadow
    .arrow-button
      fill: $primary
      border: 0.5px $light-shadow solid
      background: rgba($background, 0.5)
      transition: 0.5s ease
      &:hover, &:focus
        opacity: 0.9
        background: rgba($primary, 0.3)
        border: 2px
        box-shadow: 0 0 3px 5px $primary


#app[data-theme="light"]
  @include themeable($foreground: #11191f, $background: #fafafa, $primary: #36c, $secondary: #dd3)
  --nimlang-logo-color: #11191f
  section#about-me, section#skills, section#projects
    background: url("./assets/pic/bright_squares.png") repeat 0 0

#app[data-theme="dark"]
  @include themeable($foreground: #fafafa, $background: #11191f, $primary: #dd3, $secondary: #36c)
  --nimlang-logo-color: #ffe953
  section#about-me, section#skills, section#projects
    background: url("./assets/pic/random_grey_variations_customized.png") repeat 0 0
